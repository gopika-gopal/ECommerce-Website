import{r as c,a as x,j as e,b as d,L as m,n as l}from"./index-DhpCziyn.js";import{u}from"./useGetProducts-2QBTaobd.js";var b={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const j=()=>{const[r,a]=c.useState(!1);return{deleteProduct:async n=>{try{a(!0);const t=localStorage.getItem("token");if(!t)throw new Error("Token not found");const o=await x.delete(`${b.VITE_SERVER}/api/v1/product/${n}`,{headers:{Authorization:`Bearer ${t}`}});return a(!1),o.data}catch(t){a(!1),console.log(t)}},isLoading:r}},N=()=>{const{allProducts:r,isloading:a}=u(),[i,n]=c.useState([]);c.useEffect(()=>{n(r)},[r]);const{deleteProduct:t}=j(),o=async s=>{try{const h=await t(s);l.success("Product Deleted")}catch{l.error("Failed to Delete Product")}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"dash-container",children:[e.jsxs("div",{className:"sidebar",children:[e.jsx("p",{className:"sidebar-btn active",style:{textDecoration:"none",color:"white",fontWeight:"bold",borderRadius:"5px"},children:"Products"}),e.jsx(d,{className:"sidebar-btn active",to:"/admin/dashboard/customers",style:{textDecoration:"none",color:"white",fontWeight:"bold",borderRadius:"5px"},children:"Users"}),e.jsx(d,{className:"sidebar-btn active",to:"/admin/dashboard/orders",style:{textDecoration:"none",color:"white",fontWeight:"bold",borderRadius:"5px"},children:"Orders"})]}),e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"product-header",children:[e.jsx("h2",{children:"Products"}),e.jsx(d,{to:"/admin/dashboard/product/new",style:{padding:"10px",backgroundColor:"lightgreen",border:"none",borderRadius:"5px",cursor:"pointer",textDecoration:"none",color:"black"},children:"Add new "})]}),e.jsxs("div",{id:"customer",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"heading",children:"Photo"}),e.jsx("div",{className:"heading",children:"Name"}),e.jsx("div",{className:"heading",children:"Price"}),e.jsx("div",{className:"heading",children:"Stock"}),e.jsx("div",{className:"heading",children:"Action"})]}),a?e.jsx(m,{}):i==null?void 0:i.map(s=>e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"subitem",children:e.jsx("img",{style:{width:"40px",height:"40px"},src:s.photo,alt:""})}),e.jsx("div",{className:"subitem",children:s.name}),e.jsx("div",{className:"subitem",children:s.price}),e.jsx("div",{className:"subitem",children:s.stock}),e.jsxs("div",{className:"subitem",children:[e.jsx(d,{style:{textDecoration:"none",padding:"5px 10px"},to:`/admin/dashboard/product/${s==null?void 0:s._id}`,className:"user-edit-button",children:"Edit"}),e.jsx("button",{onClick:()=>o(s._id),style:{textDecoration:"none",padding:"7px 12px",margin:"2px"},className:"user-delete-button",children:"Delete"})]})]},s==null?void 0:s.id))]})]})]})})};export{N as default};
